<!--pages/settings/settings.wxml-->
<view class="settings-page">
  <!-- 头像设置 -->
  <view class="section">
    <view class="cell" bindtap="onChooseAvatar">
      <text class="cell-label">头像</text>
      <view class="cell-right">
        <image wx:if="{{avatarUrl}}" src="{{avatarUrl}}" class="cell-avatar" mode="aspectFill" />
        <view wx:else class="text-avatar text-avatar-sm" style="background-color:{{avatarColor}};">{{avatarText}}</view>
        <text class="cell-arrow">›</text>
      </view>
    </view>
  </view>

  <!-- 账号信息 -->
  <view class="section">
    <view class="cell cell-border">
      <text class="cell-label">昵称</text>
      <view class="cell-right">
        <text class="cell-value">{{nickname}}</text>
        <text class="cell-arrow">›</text>
      </view>
    </view>
    <view class="cell">
      <text class="cell-label">手机号</text>
      <view class="cell-right">
        <text class="cell-value">{{phone}}</text>
        <text class="cell-arrow">›</text>
      </view>
    </view>
  </view>

  <!-- 通用设置 -->
  <view class="section">
    <view class="cell cell-border">
      <text class="cell-label">消息通知</text>
      <switch checked color="#22C55E" />
    </view>
    <view class="cell" bindtap="onClearCache">
      <text class="cell-label">清除缓存</text>
      <view class="cell-right">
        <text class="cell-value">{{cacheSize}}</text>
        <text class="cell-arrow">›</text>
      </view>
    </view>
  </view>

  <!-- 关于 -->
  <view class="section">
    <view class="cell cell-border" bindtap="onAgreement">
      <text class="cell-label">用户协议</text>
      <text class="cell-arrow">›</text>
    </view>
    <view class="cell cell-border" bindtap="onPrivacy">
      <text class="cell-label">隐私政策</text>
      <text class="cell-arrow">›</text>
    </view>
    <view class="cell">
      <text class="cell-label">当前版本</text>
      <text class="cell-value">{{version}}</text>
    </view>
  </view>

  <!-- 退出登录 -->
  <view class="logout-wrap">
    <button class="logout-btn" bindtap="onLogout">退出登录</button>
  </view>
</view>
