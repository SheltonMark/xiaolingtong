<!--pages/membership/membership.wxml-->
<view class="mb-page">
  <!-- 会员卡片 -->
  <view class="mb-card">
    <view class="mb-card-bg1"></view>
    <view class="mb-card-bg2"></view>
    <view class="mb-user">
      <view class="text-avatar" style="width:80rpx;height:80rpx;font-size:28rpx;background-color:#3B82F6;">{{userInfo.avatarText}}</view>
      <view class="mb-user-info">
        <text class="mb-user-name">鑫达贸易公司</text>
        <text class="mb-user-status">当前：未开通会员</text>
      </view>
    </view>
    <view class="mb-vip-row">
      <text class="mb-star">⭐</text>
      <text class="mb-vip-text">小灵通VIP会员</text>
    </view>
  </view>

  <!-- 会员权益 -->
  <view class="mb-section">
    <text class="section-title">会员专属权益</text>
    <view class="benefit-grid">
      <view class="benefit-item">
        <view class="benefit-icon benefit-icon-amber">
          <text>👁</text>
        </view>
        <text class="benefit-name">免费查看</text>
        <text class="benefit-desc">联系方式不限次</text>
      </view>
      <view class="benefit-item">
        <view class="benefit-icon benefit-icon-blue">
          <text>✨</text>
        </view>
        <text class="benefit-name">置顶优先</text>
        <text class="benefit-desc">发布信息优先展示</text>
      </view>
      <view class="benefit-item">
        <view class="benefit-icon benefit-icon-green">
          <text>🛡</text>
        </view>
        <text class="benefit-name">专属标识</text>
        <text class="benefit-desc">VIP认证标识</text>
      </view>
    </view>
  </view>

  <!-- 套餐选择 -->
  <view class="mb-section">
    <text class="section-title">选择套餐</text>
    <view class="plan-list">
      <view class="plan-card {{selectedIndex === index ? 'plan-selected' : ''}}"
            wx:for="{{plans}}" wx:key="id"
            data-index="{{index}}" bindtap="onSelect">
        <text class="plan-tag" wx:if="{{item.tag}}" style="background-color:{{item.tagColor || '#F97316'}};">{{item.tag}}</text>
        <view class="plan-left">
          <text class="plan-name">{{item.name}}</text>
          <text class="plan-desc">{{item.desc}}</text>
        </view>
        <view class="plan-right">
          <text class="plan-price">¥{{item.price}}</text>
          <text class="plan-original" wx:if="{{item.original}}">¥{{item.original}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 开通按钮 -->
  <view class="mb-bottom-area">
    <button class="mb-pay-btn" bindtap="onPay">立即开通 · ¥{{plans[selectedIndex].price}}/{{plans[selectedIndex].unit}}</button>
    <text class="mb-hint">开通即同意《会员服务协议》· 到期自动停止</text>
  </view>
</view>
